<!DOCTYPE html>
<html>
<head>
	<title> ^ Agro Know</title>
	<!-- INCLUDE REQUIRED THIRD PARTY LIBRARY JAVASCRIPT AND CSS -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.css" />
	<link rel="stylesheet/less" type="text/css" href="../css/style.less" />

	<link rel="stylesheet" type="text/css" href="../css/sidebar_default.css" />
	<link rel="stylesheet" type="text/css" href="../css/sidebar_component.css" />

</head>

<body class="cbp-spmenu-push">

		<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" id="cbp-spmenu-s1">
			<h3>Menu</h3>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
		</nav>
		<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="cbp-spmenu-s2">
			<h3>Menu</h3>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
		</nav>
		<nav class="cbp-spmenu cbp-spmenu-horizontal cbp-spmenu-top" id="cbp-spmenu-s3">
			<h3>Menu</h3>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
		</nav>
		<nav class="cbp-spmenu cbp-spmenu-horizontal cbp-spmenu-bottom" id="cbp-spmenu-s4">
			<h3>Menu</h3>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
			<a href="#">Celery seakale</a>
			<a href="#">Dulse daikon</a>
			<a href="#">Zucchini garlic</a>
			<a href="#">Catsear azuki bean</a>
			<a href="#">Dandelion bunya</a>
			<a href="#">Rutabaga</a>
		</nav>

			<div class="main">
				<section>
					<h2>Slide Menus</h2>
					<!-- Class "cbp-spmenu-open" gets applied to menu -->
					<button id="showLeft">Show/Hide Left Slide Menu</button>
					<button id="showRight">Show/Hide Right Slide Menu</button>
					<button id="showTop">Show/Hide Top Slide Menu</button>
					<button id="showBottom">Show/Hide Bottom Slide Menu</button>
				</section>
				<section class="buttonset">
					<h2>Push Menus</h2>
					<!-- Class "cbp-spmenu-open" gets applied to menu and "cbp-spmenu-push-toleft" or "cbp-spmenu-push-toright" to the body -->
					<button id="showLeftPush">Show/Hide Left Push Menu</button>
					<button id="showRightPush">Show/Hide Right Push Menu</button>
				</section>
			</div>

		<!-- Main div that contains the listing, the facets, the search field.
			the pagination and the informative messages. -->
        <div id="akListing" ng-app="akListing" ng-controller="mainController" ng-init="init_finder()" ng-cloak>

			<form ng-submit="submit()" class="form-wrapper cf">
		        <input ng-model="search_query" name="search_query" type="text" placeholder="Search here..." required>
		        <button type="submit">Search</button>
		    </form>

			<!-- facets (left sidebar)-->
			<div class="hidden-xs col-sm-3 col-md-3">
				<!-- <a ng-click="enableFacets=!enableFacets">Facets</a> -->
	            <div id="facets" ng-show="enableFacets" ng-controller="facetsController">

            	<!-- active facets -->
            	<div class="facet_title">Available facets</div>

				<!-- bootstrap -->
	             <accordion >
				    <accordion-group heading="{{mapping['facets'][facet] || facet}}" ng-repeat="facet in facets">
				      <input ng-show="showChild" ng-model="facetFilter" placeholder="Filter {{facet}}" />
						<!-- 'facet' is the actual facet name and term.term is the machine name for the term -->
		            	<a ng-repeat="term in inactiveFacets[0][facet.toString()].terms | filter:facetFilter" class="child" href="javascript:;" ng-click="selectFacet(term.term, facet, term.count)" >
		            		<span class="value">{{ mapping[facet][term.term] || term.term }}</span>
		            		<span class="count">{{ term.count }}</span>
		            	</a>
				    </accordion-group>
				  </accordion>

				  <div><a class="btn btn-xs btn-danger" href="javascript:;" ng-click="resetLocation()">Clear Search</a></div>

	            	<!--
						<div class="row" ng-repeat="facet in facets" >
		            	<div class="parent"> <a href="#" ng-click="showChild = !showChild">{{mapping['facets'][facet] || facet}}</a> </div> <!-- 'facet' is the actual facet name -->
		            	<!-- filter facets
							<input ng-show="showChild" ng-model="facetFilter" placeholder="Filter {{facet}}" />
							<!-- 'facet' is the actual facet name and term.term is the machine name for the term
			            	<a ng-repeat="term in inactiveFacets[0][facet.toString()].terms | filter:facetFilter" class="child" href="javascript:;" ng-click="selectFacet(term.term, facet, term.count)" ng-show="showChild" >
			            		<span class="value">{{ mapping[facet][term.term] || term.term }}</span>
			            		<span class="count">{{ term.count }}</span>
			            	</a>
		            </div>
					-->



	            </div>
			</div>

			<!-- listing -->
			<div id="listing_container" class="col-xs-12 col-sm-9 col-md-9 ">
				<div id="active_facets" ng-show="enableFacets" ng-controller="facetsController">
					 <!-- active facets -->
		             <div ng-show="enableFacets" class="facets row">
		            	<div class="facet_title" >Active facets</div>
		            	<div ng-repeat="links in activeFacets" >
		            		<a href="javascript:;" ng-click="deselectFacet(links)">{{links.term}} <span class="remove_facet"> x </span></a>
	            		</div>
		            </div>
	            </div>

	           <h3 class="result_inform" >Search for "<span class="active">{{query.split("=")[1]}}</span>" returned total: <span class="active">{{total}} results</span></h3>

	            <!-- Top Pagination -->
	            <div class="pagination" ng-controller="paginationController" ng-show="enablePaginationTop" ng-init="initPagination()" >


		            <div class="center">
			            <a href="#" class="prev btn btn-default" ng-click="goToPage(currentPage-1)"> Previous </a>
			            	<p ng-repeat="link in pages" >
				            	<a href="#" class="btn btn-default active_{{currentPage == link}}" ng-click="goToPage(link)" >{{link}}</a>
				            </p>
			            <a href="#" class="next btn btn-default" ng-click="goToPage(currentPage+1)"> Next </a>
		            </div>
	            </div>




				<!-- listing -->
	            <div id="listing" ng-controller="listingController">

		            <ul class="results">

			            <!--<input ng-model="filterResults" placeholder="Filter results by title..." />
			            <b>Page '{{currentPage}}'</b> filtered with '<span class="active">{{filterResults}}</span>'</b> gives total: <b>{{filtered.length}} results</b>-->

			          <!-- loading and message -->
			            <progressbar ng-show="loading" class="progress-striped active" value="http_get_prog" type="success">searching...</progressbar>


			            <alert type="danger" ng-show="error">
			            	Hmm... Something went wrong! Please try again later :)
			            </alert>

						<!-- results -->
		            	<li class="snippet" ng-repeat="result in filtered = (results | filter:filterResults) ">
				            <b>Title:</b>{{result.title}}
							<br> <b>Description:</b> {{result.description}}
							<br> <b>Keywords:</b>
								 <a ng-repeat="keys in result.keywords" target="_self" href="search.html?query={{keys}}" >{{keys}}, </a>
							<br>
							 <a class="btn btn-sm btn-default" target="_self" href="item.html?id={{result.id}}_{{result.set}}"> View More </a>
							 <a class="btn btn-sm btn-default" target="_self" href="item_translations.html?id={{result.id}}_{{result.set}}"> View Translations </a>
			            </li>

		            </ul>
			</div>

			<!-- LOAD MORE ITEMS -->
			<div ng-controller="paginationController"><a ng-show="enableLoadMore" class="view_more" href="#" ng-click="loadMore(currentPage+1)"> Load More </a></div>
			<div ><a ng-show="enableLoadMore" class="view_more" href="#" ng-click="scrollToTop()"> Take me to the Top ^ </a></div>

				<!-- Bottom Pagination -->
				<div ng-controller="paginationController" ng-show="enablePaginationBottom" class="pagination row">
		         	<div class="center">
			            <a href="#" class="prev" ng-click="goToPage(currentPage-1)"> Previous </a>
			            	<p ng-repeat="link in pages" >
				            	<a href="#" class="active_{{currentPage == link}}" ng-click="goToPage(link)" >{{link}}</a>
				            </p>
			            <a href="#" class="next" ng-click="goToPage(currentPage+1)"> Next </a>
		            </div>
				</div>

			</div>

    </div>

<!-- INCLUDE APPLICATION SPECIFIC CSS AND JAVASCRIPT -->
<!-- sidebar -->
<script src="js/modernizr.custom.js"></script>
<script src="../lib/sidebar_classie.js"></script>
<script>
	var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
		menuRight = document.getElementById( 'cbp-spmenu-s2' ),
		menuTop = document.getElementById( 'cbp-spmenu-s3' ),
		menuBottom = document.getElementById( 'cbp-spmenu-s4' ),
		showLeft = document.getElementById( 'showLeft' ),
		showRight = document.getElementById( 'showRight' ),
		showTop = document.getElementById( 'showTop' ),
		showBottom = document.getElementById( 'showBottom' ),
		showLeftPush = document.getElementById( 'showLeftPush' ),
		showRightPush = document.getElementById( 'showRightPush' ),
		body = document.body;

	showLeft.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( menuLeft, 'cbp-spmenu-open' );
		disableOther( 'showLeft' );
	};
	showRight.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( menuRight, 'cbp-spmenu-open' );
		disableOther( 'showRight' );
	};
	showTop.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( menuTop, 'cbp-spmenu-open' );
		disableOther( 'showTop' );
	};
	showBottom.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( menuBottom, 'cbp-spmenu-open' );
		disableOther( 'showBottom' );
	};
	showLeftPush.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( body, 'cbp-spmenu-push-toright' );
		classie.toggle( menuLeft, 'cbp-spmenu-open' );
		disableOther( 'showLeftPush' );
	};
	showRightPush.onclick = function() {
		classie.toggle( this, 'active' );
		classie.toggle( body, 'cbp-spmenu-push-toleft' );
		classie.toggle( menuRight, 'cbp-spmenu-open' );
		disableOther( 'showRightPush' );
	};

	function disableOther( button ) {
		if( button !== 'showLeft' ) {
			classie.toggle( showLeft, 'disabled' );
		}
		if( button !== 'showRight' ) {
			classie.toggle( showRight, 'disabled' );
		}
		if( button !== 'showTop' ) {
			classie.toggle( showTop, 'disabled' );
		}
		if( button !== 'showBottom' ) {
			classie.toggle( showBottom, 'disabled' );
		}
		if( button !== 'showLeftPush' ) {
			classie.toggle( showLeftPush, 'disabled' );
		}
		if( button !== 'showRightPush' ) {
			classie.toggle( showRightPush, 'disabled' );
		}
	}
</script>

<!-- angular -->
<script type="text/javascript" src="../lib/angular.min.js"></script>
<script type="text/javascript" src="../lib/angular-route.min.js"></script>
<script type="text/javascript" src="../lib/ui-bootstrap-0.10.0.min.js"></script>
<!-- less -->
<script src="../lib/less-1.5.0.min.js" type="text/javascript"></script>
<!-- app & controllers -->
<script type="text/javascript" src="../app/app.js"></script>
<script type="text/javascript" src="../app/controllers/mainController.js"></script>
<script type="text/javascript" src="../app/controllers/search/listingController.js"></script>
<script type="text/javascript" src="../app/controllers/search/paginationController.js"></script>
<script type="text/javascript" src="../app/controllers/search/facetsController.js"></script>


</body>
</html>